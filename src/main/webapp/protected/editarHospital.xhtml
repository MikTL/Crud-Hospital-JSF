<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Hospital Crud</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <f:event type="preRenderView" listener="#{sessionBean.verificarSession()}"/>
    </h:head>
    <h:body>
        <p:menubar>
            <p:submenu label="Inicio" icon="pi pi-home"  />
            <p:submenu label="Contacto" icon="pi pi-envelope" />
        </p:menubar>
        <br/>

        <p:card style="width: 25rem; margin-bottom: 2em; margin-left: auto; margin-right: auto;">
            <f:facet name="title">
                Editar Hospital
            </f:facet>

            <h:form id="form-reg">
                <p:outputPanel id="panel">
                    <div style="margin-bottom: 4px">
                        <span class="ui-float-label">
                            <p:inputText id="nombre-hospital" value="#{formsBean.nombreIngresado}" required="true" requiredMessage="Coloca el nombre"/>
                            <p:outputLabel for="nombre-hospital" value="Nombre Hospital" style="font-weight: bold;"/>
                            <p:message for="nombre-hospital" display="icon"/>
                        </span>
                    </div>
                    <div class="field col-12 md:col-4">
                        <p:outputLabel for="@next" value="Antiguedad" style="font-weight: bold;"/>
                        <br/>
                        <p:spinner 
                            id="antiguedad" 
                            value="#{formsBean.antiguedadIngresada}"
                            min="1"
                            max="500"
                            required="true"
                            />
                        <p:message for="antiguedad" display="icon"/>
                    </div>
                    <div class="field col-12 md:col-4">
                        <p:outputLabel for="input4" value="Area en m2" style="font-weight: bold;"/>
                        <br/>
                        <p:inputNumber 
                            id="input4" 
                            value="#{formsBean.areaIngresada}" 
                            decimalPlaces="2" 
                            minValue="10000.00"
                            maxValue="1000000.00"
                            required="true"
                            />
                    </div>
                    <div class="field col-12 md:col-4" style="margin-bottom: 4px">
                        <p:outputLabel for="sedes-option" value="Sedes" style="font-weight: bold;"/>
                        <br/>
                        <p:selectOneMenu id="sedes-option" value="#{formsBean.sedeSeleccionada}" required="true" >
                            <f:selectItem itemLabel="Seleccione" itemValue=""/>
                            <f:selectItems 
                                value="#{formsBean.sedes}" 
                                var="sede" 
                                itemLabel="#{sede.descSede}" 
                                itemValue="#{sede.idSede}" 
                                />
                        </p:selectOneMenu>
                    </div>
                    <div class="field col-12 md:col-4" style="margin-bottom: 4px">
                        <p:outputLabel for="condicion-option" value="Condicion" style="font-weight: bold;"/>
                        <br/>
                        <p:selectOneMenu id="condicion-option" value="#{formsBean.condicionSeleccionado}" required="true" >
                            <f:selectItem itemLabel="Seleccione" itemValue=""/>
                            <f:selectItems 
                                value="#{formsBean.condiciones}" 
                                var="condicion" 
                                itemLabel="#{condicion.descCondicion}" 
                                itemValue="#{condicion.idCondicion}" 
                                />
                        </p:selectOneMenu>
                    </div>
                    <div class="field col-12 md:col-4" style="margin-bottom: 4px">
                        <p:outputLabel for="distrito-option" value="Distrito" style="font-weight: bold;"/>
                        <br/>
                        <p:selectOneMenu id="distrito-option" value="#{formsBean.distritoSeleccionado}" required="true">
                            <f:selectItem itemLabel="Seleccione" itemValue=""/>
                            <f:selectItems 
                                value="#{formsBean.distritos}" 
                                var="distrito" 
                                itemLabel="#{distrito.descDistrito}" 
                                itemValue="#{distrito.idDistrito}" 
                                />
                        </p:selectOneMenu>
                    </div>
                    <div class="field col-12 md:col-4" style="margin-bottom: 4px">
                        <p:outputLabel for="gerente-option" value="Gerentes" style="font-weight: bold;"/>
                        <br/>
                        <p:selectOneMenu id="gerente-option" value="#{formsBean.gerenteSeleccionado}" required="true">
                            <f:selectItem itemLabel="Seleccione" itemValue=""/>
                            <f:selectItems 
                                value="#{formsBean.gerentes}" 
                                var="gerente" 
                                itemLabel="#{gerente.desGerente}" 
                                itemValue="#{gerente.idGerente}" 
                                />
                        </p:selectOneMenu>
                    </div>
                    <div class="field col-12 md:col-4">
                        <p:outputLabel for="navigator" value="Fecha Registro" style="font-weight: bold;"/>
                        <br/>
                        <p:datePicker 
                            id="navigator" 
                            value="#{formsBean.fechaIngresada}" 
                            monthNavigator="true" 
                            yearNavigator="true" showWeek="true"
                            maxdate="#{calendarView.maxDate}"
                            required="true"
                            requiredMessage="Poner fecha por favor"
                            />
                    </div>
                </p:outputPanel>


                <div style="margin: 5px auto; display:flex; justify-content: center; gap:10px" >
                    <p:commandButton 
                        value="Guardar" 
                        styleClass="ui-button-raised" 
                        update="@form"
                        action="#{formsBean.editarHospital(cargarSelectsForm.idHospital)}" />
                </div>

            </h:form>

        </p:card>

        <h:form>
            <div class="card" style="display:flex; justify-content: center">
                <p:commandButton value="Volver" action="#{formsBean.volverAlIndex}"/>
            </div>
        </h:form>
    </h:body> 
</html>
